---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { glob } from "astro/loaders";
const posts = await glob('../../content/*.mdx');
---
<BaseLayout title="Blog â€” Abba Unveiled">
  <h1 class="text-2xl font-semibold mb-6">Blog</h1>
  <ul class="grid gap-6">
    {posts.sort((a,b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date)).map((p) => (
      <li>
        <a href={`/blog/${p.url.split('/').pop()?.replace('.mdx','')}/`} class="block">
          <h2 class="text-xl font-medium">{p.frontmatter.title}</h2>
          <p class="text-sm text-gray-600">{new Date(p.frontmatter.date).toLocaleDateString()}</p>
          <p class="mt-1 text-gray-700">{p.frontmatter.summary}</p>
        </a>
      </li>
    ))}
  </ul>
</BaseLayout>
