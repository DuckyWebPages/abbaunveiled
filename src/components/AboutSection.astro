---
const {
  // Set eyebrow default to empty and render it only if provided
  eyebrow = "",
  title = "The Yahweh Deception",
  body = "Reclaiming the Father Jesus Revealed.",
  image = "/images/featured-book.jpg",
  // Default primary can point to Store (optional)
  primary = { href: "/store", label: "Go to Store" },
  // IMPORTANT: default to null so no secondary button shows unless you pass one
  secondary = null,
} = Astro.props;
---

<section class="feat">
  <div class="feat__wrap">
    <div class="feat__card">
      <div class="feat__media">
        <img src={image} alt={title} loading="lazy" />
      </div>
      <div class="feat__body">
        {eyebrow && <span class="feat__eyebrow">{eyebrow}</span>}
        <h3>{title}</h3>
        <p>{body}</p>
        <div class="feat__actions">
          {primary && (
            <a href={primary.href} class="btn-cta" aria-label={primary.ariaLabel || primary.label || "Go to Store"}>
              {primary.labelHTML ? <span set:html={primary.labelHTML} /> : <span>{primary.label}</span>}
            </a>
          )}

          {secondary && (
            <a class="btn btn--ghost" href={secondary.href}>{secondary.label}</a>
          )}
        </div>
      </div>
    </div>
  </div>
</section>


</style>


<style>
.about { padding: 4rem 1.25rem; }
.about__wrap {
  max-width: 1100px; margin: 0 auto;
  display: grid; gap: 2rem; align-items: center;
  grid-template-columns: minmax(0,1fr);
}

/* When there's NO image, let the text span the full width of the container */
.about__wrap--full { grid-template-columns: minmax(0,1fr); }

/* Image (only shows when provided) */
.about__img { display: block; }
.about__img img { width: 100%; height: auto; border-radius: 18px; display:block; }

/* Content */
.about__content h2 { font-size: clamp(1.6rem, 1.6vw + 1rem, 2.2rem); margin: 0 0 .75rem; }
.about__content p { font-size: 1.05rem; line-height: 1.65; opacity: .95; }
.about__actions { margin-top: 1rem; }

.btn {
  display:inline-flex; align-items:center; justify-content:center;
  padding:.8rem 1.2rem; border-radius:9999px; font-weight:600;
  color:#fff; background:#121212; text-decoration:none; box-shadow:0 6px 18px rgba(0,0,0,.18);
  transition:transform .16s ease, opacity .16s ease;
}
.btn:hover { transform: translateY(-1px); opacity:.96; }

/* On desktop, use two columns ONLY if we have an image */
@media (min-width: 860px){
  .about__wrap:not(.about__wrap--full) { grid-template-columns: 1.1fr .9fr; }
  .about__content { order: 1; }
  .about__img { order: 2; }
}
</style>
